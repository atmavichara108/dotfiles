#!/bin/bash

TEXT=$(xclip -selection clipboard -o)

if [ -z "$TEXT" ]; then
    echo "ĞĞµÑ‚ Ñ‚ĞµĞºÑÑ‚Ğ°" | rofi -dmenu -p "ĞÑˆĞ¸Ğ±ĞºĞ°" -font "JetBrains Mono 24"
    exit 1
fi

TRANSLATED=$(trans -brief "$TEXT" en:ru 2>/dev/null)

if [ -z "$TRANSLATED" ]; then
    echo "ĞÑˆĞ¸Ğ±ĞºĞ° Ğ¿ĞµÑ€ĞµĞ²Ğ¾Ğ´Ğ°" | rofi -dmenu -p "ĞÑˆĞ¸Ğ±ĞºĞ°" -font "JetBrains Mono 24"
    exit 1
fi

OUTPUT="ğŸ“ ĞĞ Ğ˜Ğ“Ğ˜ĞĞĞ›:\n$TEXT\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nğŸŒ ĞŸĞ•Ğ Ğ•Ğ’ĞĞ”:\n$TRANSLATED"

echo -e "$OUTPUT" | rofi -dmenu -p "Translate" -font "JetBrains Mono 24" -lines 20 -width 1000
